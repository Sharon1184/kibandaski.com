<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kibandaski Deliveries</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="sidebar">
        <h1 class="logo">DineDash</h1>
        <div class="sidebar-menus">
            <a href="index.html"><ion-icon name="storefront-outline"></ion-icon>Home</a>
            <a href="dashboard.html"><ion-icon name="receipt-outline"></ion-icon>Bills</a>
            <a href="#"><ion-icon name="wallet-outline"></ion-icon>Wallet</a>
            <a href="#"><ion-icon name="notifications-outline"></ion-icon>Notifications</a>
            <a href="#"><ion-icon name="chatbubbles-outline"></ion-icon>Contact Us</a>
            <a href="add-food.html"><ion-icon name="settings-outline"></ion-icon>Settings</a>
        </div>
        <div class="sidebarlogout">
            <a href="#"><ion-icon name="log-out-outline"></ion-icon>Logout</a>
        </div>
    </div>
    <div class="main">
        <div class="main-navbar">
            <ion-icon class="menu-toggle" name="menu-outline"></ion-icon>
            <div class="search">
                <input type="text" placeholder="Unataka kukula nini?">
                <button class="search-btn">Search</button>
            </div>
            <div class="profile">
                <a class="cart" href="#"><ion-icon name="cart-outline"></ion-icon></a>
                <a class="user" href="#"><ion-icon name="person-outline"></ion-icon></a>
            </div>
        </div>

        <div class="main-highlight">
            <div class="main-header">
                <h2 class="main-title">Recommendations</h2>
                <div class="main-arrow">
                    <ion-icon class="back" name="chevron-back-circle-outline"></ion-icon>
                    <ion-icon class="next" name="chevron-forward-circle-outline"></ion-icon>
                </div>
            </div>
            <div class="highlight-wrapper" id="highlightWrapper">
                <!-- Dynamically filled with food items from Firebase -->
            </div>
        </div>

        <div class="main-menus">
            <div class="main-filter">
                <h2 class="main-title">Menu Category</h2>
                <div class="main-arrow">
                    <ion-icon class="back-menus" name="chevron-back-circle-outline"></ion-icon>
                    <ion-icon class="next-menus" name="chevron-forward-circle-outline"></ion-icon>
                </div>
                <div class="filter-wrapper">
                    <!-- Categories here -->
                </div>
            </div>
            <hr class="divider">
            <div class="main-detal">
                <h2 class="main-title">Choose Order</h2>
                <div class="detail-wrapper" id="detailWrapper">
                    <!-- Dynamically filled with food details from Firebase -->
                </div>
            </div>
        </div>
    </div>

   <!-- Ionicons -->
   <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
   <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
   <!-- jQuery - MUST come before your app.js -->
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <!-- Firebase SDK and Firestore integration -->
   <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
      import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

      // Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyAHhmbgDA_D13LcnEWgtr5Unu7uihBpGPE",
        authDomain: "food-ae7ff.firebaseapp.com",
        projectId: "food-ae7ff",
        storageBucket: "food-ae7ff.firebasestorage.app",
        messagingSenderId: "1058214228504",
        appId: "1:1058214228504:web:f1f059be00c9aeaf7cc96d"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Fetch food items from Firestore and display them
      async function fetchFoodItems() {
        const foodsCollection = collection(db, "foods");
        const foodSnapshot = await getDocs(foodsCollection);
        const foodList = foodSnapshot.docs.map(doc => doc.data());

        // Populate the homepage dynamically with food data
        const highlightWrapper = document.getElementById('highlightWrapper');
        const detailWrapper = document.getElementById('detailWrapper');

        foodList.forEach(food => {
          // Create elements for Highlight section
          const highlightCard = document.createElement('div');
          highlightCard.classList.add('highlight-card');
          highlightCard.innerHTML = `
            <img class="highlight-img" src="${food.image}" alt="${food.name}">
            <div class="highlight-desc">
              <h4>${food.name}</h4>
              <p>Ksh.${food.price}</p>
            </div>
          `;
          highlightWrapper.appendChild(highlightCard);

          // Create elements for Detail section
          const detailCard = document.createElement('div');
          detailCard.classList.add('detail-card');
          detailCard.innerHTML = `
            <img class="detail-img" src="${food.image}" alt="${food.name}">
            <div class="detail-desc">
              <div class="detail-name">
                <h4>${food.name}</h4>
                <p class="detail-sub">${food.description}</p>
                <p class="price">Ksh.${food.price}</p>
              </div>
              <ion-icon class="detail-favourite" name="bookmark-outline"></ion-icon>
            </div>
          `;
          detailWrapper.appendChild(detailCard);
        });
      }

      // Call the function to fetch and display food items on page load
      window.addEventListener('DOMContentLoaded', fetchFoodItems);
       document.addEventListener('DOMContentLoaded', () => {
  const sidebar = document.querySelector('.sidebar');
  const menuToggle = document.querySelector('.menu-toggle');

  menuToggle.addEventListener('click', () => {
    sidebar.classList.toggle('closed');
  });
});
   </script>
    
</body>
                        </html>
